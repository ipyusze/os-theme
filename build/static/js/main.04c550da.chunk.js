(this["webpackJsonpos-starter-theme"]=this["webpackJsonpos-starter-theme"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},128:function(e,t,a){},149:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},181:function(e,t){},199:function(e,t,a){},200:function(e,t,a){},212:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},223:function(e,t,a){var n={"./en_US.json":224,"./zh_HK.json":225};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=223},224:function(e){e.exports=JSON.parse('{"Home":"Home","Blog":"Blog","Shop":"Shop","Cart":"Cart","My Account":"My Account","Terms and Conditions":"Terms and Conditions","Privacy Policy":"Privacy Policy","Shipping Policy":"Shipping Policy","All":"All","all":"All","Load more":"Load more","Back to blog":"Back to blog","Products":"Products","Back to products":"Back to products","Add to Cart":"Add to Cart","Your shopping cart is empty.":"Your shopping cart is empty.","Shop Now":"Shop Now","My Cart":"My Cart","Checkout":"Checkout","Total":"Total","Category":"Category","Your Information":"Your Information","First Name":"First Name","Last Name":"Last Name","Email":"Email","Phone":"Phone","Country":"Country","Extra information":"Extra information","e.g. Your Taiwan ID card number":"e.g. Your Taiwan ID card number","Shipping":"Shipping","Select a Shipping Method":"Select a Shipping Method","No shipping method is available at the moment.":"No shipping method is available at the moment.","Shipping Address":"Shipping Address","Coupons":"Coupons","Notes":"Notes","Information":"Information","Payment":"Payment","Card Number":"Card Number","Expiry Date":"Expiry Date","CSC":"CSC","Confirm & Pay":"Confirm & Pay","Back to Shopping Cart":"Back to Shopping Cart","Summary":"Summary","Subtotal":"Subtotal","Shipping fee":"Shipping fee","Discounts":"Discounts","TOTAL":"TOTAL","is required":"is required","is invalid":"is invalid","Finish":"Finish","Notes to us":"Notes to us","Peter":"Peter","Chan":"Chan","Welcome Back":"Welcome Back","Password":"Password","Login":"Login","Not a member? Register now!":"Not a member? Register now!","Get Your Account":"Get Your Account","Confirm Password":"Confirm Password","Register":"Register","Already a member?":"Already a member?","Profile":"Profile","Cancel":"Cancel","Save":"Save","Logout":"Logout","My Orders":"My Orders","Disconnected":"Disconnected","Please login again.":"please login again.","Press Enter to send":"Press Enter to send","SENDING":"SENDING...","Close":"Close","clothes":"Clothes","accessories":"Accessories","men":"Men","women":"Women","shoes":"Shoes","watches":"Watches","Best Seller":"Best Seller","Featured":"Featured","Sharing":"Sharing","Latest Products":"Latest Products"}')},225:function(e){e.exports=JSON.parse('{"Home":"\u9996\u9801","Blog":"\u5206\u4eab","Shop":"\u8cfc\u7269","Cart":"\u8cfc\u7269\u8eca","My Account":"\u6211\u7684\u5e33\u6236","Terms and Conditions":"\u689d\u6b3e\u8207\u7d30\u5247","Privacy Policy":"\u79c1\u96b1\u689d\u6b40","Shipping Policy":"\u904b\u9001\u689d\u6b3e","All":"\u5168\u90e8","all":"\u5168\u90e8","Load more":"\u8f09\u5165\u66f4\u591a","Back to blog":"\u56de\u5230\u4e0a\u4e00\u9801","Products":"\u7522\u54c1","Back to products":"\u56de\u5230\u4e0a\u4e00\u9801","Add to Cart":"\u52a0\u5165\u8cfc\u7269\u8eca","Your shopping cart is empty.":"\u8cfc\u7269\u8eca\u672a\u6709\u7522\u54c1","Shop Now":"\u53bb\u8cfc\u7269","My Cart":"\u8cfc\u7269\u8eca","Checkout":"\u7d50\u5e33","Total":"\u7e3d\u8a08","Category":"\u5206\u985e","Your Information":"\u806f\u7d61\u8cc7\u6599","First Name":"\u540d\u5b57","Last Name":"\u59d3\u6c0f","Email":"\u96fb\u90f5\u5730\u5740","Phone":"\u806f\u7d61\u96fb\u8a71","Country":"\u570b\u5bb6","Extra information":"\u5176\u4ed6\u6240\u9700\u8cc7\u6599","e.g. Your Taiwan ID card number":"\u8acb\u63d0\u4f9b\u7d71\u7de8","Shipping":"\u9001\u8ca8\u8cc7\u6599","Select a Shipping Method":"\u9078\u64c7\u904b\u9001\u65b9\u5f0f","No shipping method is available at the moment.":"\u66ab\u6642\u672a\u6709\u5176\u4ed6\u904b\u9001\u65b9\u5f0f\u53ef\u9078","Shipping Address":"\u9001\u8ca8\u5730\u5740","Coupons":"\u512a\u60e0\u78bc","Notes":"\u5099\u8a3b","Information":"\u806f\u7d61\u8cc7\u6599","Payment":"\u4ed8\u6b3e","Card Number":"\u4fe1\u7528\u5361\u865f","Expiry Date":"\u5230\u671f\u65e5","CSC":"\u5b89\u5168\u78bc(CSC)","Confirm & Pay":"\u78ba\u8a8d\u4ed8\u6b3e","Back to Shopping Cart":"\u56de\u5230\u8cfc\u7269\u8eca","Summary":"\u6982\u8981","Subtotal":"\u5c0f\u8a08","Shipping fee":"\u904b\u8cbb","Discounts":"\u6298\u6263","TOTAL":"\u7e3d\u8a08 ","is required":"\u70ba\u5fc5\u586b","is invalid":"\u683c\u5f0f\u4e0d\u6b63\u78ba","Finish":"\u5b8c\u6210","Notes to us":"\u7d66\u6211\u5011\u7684\u5099\u8a3b","Peter":"\u5927\u6587","Chan":"\u9673","Welcome Back":"\u6b61\u8fce\u56de\u4f86","Password":"\u5bc6\u78bc","Login":"\u767b\u5165","Not a member? Register now!":"\u6ca1\u6709\u5e33\u865f? \u73fe\u5728\u5c31\u53bb\u8a3b\u518a","Get Your Account":"\u7acb\u5373\u6210\u70ba\u6703\u54e1","Confirm Password":"\u78ba\u8a8d\u5bc6\u78bc","Register":"\u8a3b\u518a","Already a member?":"\u5df2\u7d93\u662f\u6703\u54e1?","Profile":"\u6211\u7684\u5e33\u865f","Cancel":"\u53d6\u6d88","Save":"\u5132\u5b58","Logout":"\u767b\u51fa","My Orders":"\u6211\u7684\u8a02\u55ae","Disconnected":"\u5df2\u96e2\u7dda","Please login again.":"\u8acb\u91cd\u65b0\u767b\u5165","Press Enter to send":"\u6309\u8f38\u5165\u9375\u9001\u51fa","SENDING":"\u50b3\u9001\u4e2d...","Close":"\u95dc\u9589","clothes":"\u670d\u88dd","accessories":"\u98fe\u7269","men":"\u7537\u88dd","women":"\u5973\u88dd","shoes":"\u978b","watches":"\u624b\u9336","Best Seller":"\u71b1\u8ce3","Featured":"\u7cbe\u9078","Sharing":"\u5206\u4eab","Latest Products":"\u6700\u65b0\u7522\u54c1","Afghanistan":"\u963f\u5bcc\u6c57","Aland Islands":"\u5967\u862d\u7fa4\u5cf6","Albania":"\u963f\u723e\u5df4\u5c3c\u4e9e","Algeria":"\u963f\u723e\u53ca\u5229\u4e9e","American Samoa":"\u7f8e\u5c6c\u85a9\u6469\u4e9e","Andorra":"\u5b89\u9053\u723e","Angola":"\u5b89\u54e5\u62c9","Anguilla":"\u5b89\u572d\u62c9","Antigua and Barbuda":"\u5b89\u5730\u5361\u53ca\u5df4\u5e03\u9054","Argentina":"\u963f\u6839\u5ef7","Armenia":"\u4e9e\u7f8e\u5c3c\u4e9e","Aruba":"\u963f\u9b6f\u5df4","Australia":"\u6fb3\u5927\u5229\u4e9e","Austria":"\u5967\u5730\u5229","Azerbaijan":"\u4e9e\u585e\u62dc\u7136","Bangladesh":"\u5b5f\u52a0\u62c9","Bahrain":"\u5df4\u6797","Bahamas":"\u5df4\u54c8\u99ac","Barbados":"\u5df4\u8c9d\u591a","Belarus":"\u767d\u4fc4\u7f85\u65af","Belgium":"\u6bd4\u5229\u6642","Belize":"\u8c9d\u91cc\u65af","Benin":"\u8c9d\u5357","Bermuda":"\u767e\u6155\u5927","Bhutan":"\u4e0d\u4e39","Bolivia":"\u73bb\u5229\u7dad\u4e9e","Bosnia and Herzegovina":"\u6ce2\u65af\u5c3c\u4e9e\u548c\u9ed1\u585e\u54e5\u7dad\u90a3","Botswana":"\u6ce2\u672d\u90a3","Bouvet Island":"\u5e03\u7dad\u5cf6","Brazil":"\u5df4\u897f","Brunei":"\u6c76\u840a","Bulgaria":"\u4fdd\u52a0\u5229\u4e9e","Burkina Faso":"\u5e03\u5409\u7d0d\u6cd5\u7d22","Burundi":"\u84b2\u9686\u5730","Cambodia":"\u67ec\u57d4\u5be8","Cameroon":"\u5580\u9ea5\u9686","Canada":"\u52a0\u62ff\u5927","Cape Verde":"\u7dad\u5fb7\u89d2","Central African Republic":"\u4e2d\u975e","Chad":"\u67e5\u5fb7","Chile":"\u667a\u5229","Christmas Islands":"\u8056\u8a95\u5cf6","Cocos (keeling) Islands":"\u79d1\u79d1\u65af\uff08\u57fa\u6797\uff09\u7fa4\u5cf6","Colombia":"\u54e5\u502b\u6bd4\u4e9e","Comoros":"\u845b\u6469","Congo (Congo-Kinshasa)":"\u525b\u679c\uff08\u91d1\uff09","Congo":"\u525b\u679c","Cook Islands":"\u5eab\u514b\u7fa4\u5cf6","Costa Rica":"\u54e5\u65af\u5927\u9ece\u52a0","Cote D\u2019Ivoire":"\u8c61\u7259\u6d77\u5cb8","China":"\u4e2d\u570b","Croatia":"\u514b\u7f85\u57c3\u897f\u4e9e","Cuba":"\u53e4\u5df4","Czech":"\u6377\u514b","Cyprus":"\u585e\u666e\u52d2\u65af","Denmark":"\u4e39\u9ea5","Djibouti":"\u5409\u5e03\u63d0","Dominica":"\u591a\u660e\u5c3c\u52a0","East Timor":"\u6771\u5e1d\u6c76","Ecuador":"\u5384\u74dc\u591a","Egypt":"\u57c3\u53ca","Equatorial Guinea":"\u8d64\u9053\u5e7e\u5167\u4e9e","Eritrea":"\u5384\u5229\u5782\u4e9e","Estonia":"\u611b\u6c99\u5c3c\u4e9e","Ethiopia":"\u8863\u7d22\u6bd4\u4e9e","Faroe Islands":"\u6cd5\u7f85\u7fa4\u5cf6","Fiji":"\u6590\u6fdf","Finland":"Finland","France":"\u6cd5\u570b","Franch Metropolitan":"\u6cd5\u570b\u5927\u90fd\u6703","Franch Guiana":"\u6cd5\u5c6c\u84cb\u4e9e\u90a3","French Polynesia":"\u6cd5\u5c6c\u6ce2\u5229\u5c3c\u897f\u4e9e","Gabon":"\u52a0\u5f6d","Gambia":"\u7518\u6bd4\u4e9e","Georgia":"\u55ac\u6cbb\u4e9e","Germany":"\u5fb7\u570b","Ghana":"\u8fe6\u7d0d","Gibraltar":"\u76f4\u5e03\u7f85\u9640","Greece":"\u5e0c\u81d8","Grenada":"\u683c\u745e\u90a3\u9054","Guadeloupe":"\u74dc\u5fb7\u7f85\u666e\u5cf6","Guam":"\u95dc\u5cf6","Guatemala":"\u74dc\u5730\u99ac\u62c9","Guernsey":"\u6839\u897f\u5cf6","Guinea-Bissau":"\u5e7e\u5167\u4e9e\u6bd4\u7d22","Guinea":"\u5e7e\u5167\u4e9e","Guyana":"\u84cb\u4e9e\u90a3","Hong Kong":"\u9999\u6e2f\u7279\u5225\u884c\u653f\u5340","Haiti":"\u6d77\u5730","Honduras":"\u5b8f\u90fd\u62c9\u65af","Hungary":"\u5308\u7259\u5229","Iceland":"\u51b0\u5cf6","India":"\u5370\u5ea6","Indonesia":"\u5370\u5ea6\u5c3c\u897f\u4e9e","Iran":"\u4f0a\u6717","Iraq":"\u4f0a\u62c9\u514b","Ireland":"\u611b\u723e\u862d","Isle of Man":"\u99ac\u6069\u5cf6","Israel":"\u4ee5\u8272\u5217","Italy":"\u7fa9\u5927\u5229","Jamaica":"\u7259\u8cb7\u52a0","Japan":"\u65e5\u672c","Jersey":"\u6fa4\u897f\u5cf6","Jordan":"\u7d04\u65e6","Kazakhstan":"\u54c8\u85a9\u514b","Kenya":"\u80af\u4e9e","Kiribati":"\u5409\u91cc\u5df4\u65af","Korea (South)":"\u97d3\u570b","Korea (North)":"\u671d\u9bae","Kuwait":"\u79d1\u5a01\u7279","Kyrgyzstan":"\u5409\u723e\u5409\u65af\u65af\u5766","Laos":"\u5bee\u570b","Latvia":"\u62c9\u812b\u7dad\u4e9e","Lebanon":"\u9ece\u5df4\u5ae9","Lesotho":"\u8cf4\u7d22\u6258","Liberia":"\u8cf4\u6bd4\u745e\u4e9e","Libya":"\u5229\u6bd4\u4e9e","Liechtenstein":"\u5217\u652f\u6566\u65af\u767b","Lithuania":"\u7acb\u9676\u5b9b","Luxembourg":"\u76e7\u68ee\u5821","Macau":"\u6fb3\u9580\uff08\u4e2d\u570b\uff09","Macedonia":"\u99ac\u5176\u9813","Malawi":"\u99ac\u62c9\u7dad","Malaysia":"\u99ac\u4f86\u897f\u4e9e","Madagascar":"\u99ac\u9054\u52a0\u65af\u52a0","Maldives":"\u99ac\u723e\u5730\u592b","Mali":"\u99ac\u88e1","Malta":"\u99ac\u8033\u4ed6","Marshall Islands":"\u99ac\u7d39\u723e\u7fa4\u5cf6","Martinique":"\u99ac\u63d0\u5c3c\u514b\u5cf6","Mauritania":"\u8305\u5229\u5854\u5c3c\u4e9e","Mauritius":"\u6a21\u91cc\u897f\u65af","Mayotte":"\u99ac\u7d04\u7279","Mexico":"\u58a8\u897f\u54e5","Micronesia":"\u5bc6\u514b\u7f85\u5c3c\u897f\u4e9e","Moldova":"\u6469\u723e\u591a\u74e6","Monaco":"\u6469\u7d0d\u54e5","Mongolia":"\u8499\u53e4","Montenegro":"\u9ed1\u5c71","Montserrat":"\u8499\u7279\u585e\u62c9\u7279","Morocco":"\u6469\u6d1b\u54e5","Mozambique":"\u83ab\u4e09\u6bd4\u514b","Myanmar":"\u7dec\u7538","Namibia":"\u7d0d\u7c73\u6bd4\u4e9e","Nauru":"\u8afe\u9b6f","Nepal":"\u5c3c\u6cca\u723e","Netherlands":"\u8377\u862d","New Caledonia":"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9e","New Zealand":"\u7d10\u897f\u862d","Nicaragua":"\u5c3c\u52a0\u62c9\u74dc","Niger":"\u5c3c\u65e5","Nigeria":"\u5948\u53ca\u5229\u4e9e","Niue":"\u7d10\u57c3","Norfolk Island":"\u8afe\u798f\u514b\u5cf6","Norway":"\u632a\u5a01","Oman":"\u963f\u66fc","Pakistan":"\u5df4\u57fa\u65af\u5766","Palau":"\u5e1b\u7409","Palestine":"\u5df4\u52d2\u65af\u5766","Panama":"\u5df4\u62ff\u99ac","Papua New Guinea":"\u5df4\u5e03\u4e9e\u7d10\u5e7e\u5167\u4e9e","Paraguay":"\u5df4\u62c9\u572d","Peru":"\u7955\u9b6f","Philippines":"\u83f2\u5f8b\u8cd3","Pitcairn Islands":"\u76ae\u7279\u51f1\u6069\u7fa4\u5cf6","Poland":"\u6ce2\u862d","Portugal":"\u8461\u8404\u7259","Puerto Rico":"\u6ce2\u591a\u9ece\u5404","Qatar":"\u5361\u9054","Reunion":"\u7559\u5c3c\u6c6a\u5cf6","Romania":"\u7f85\u99ac\u5c3c\u4e9e","Rwanda":"\u76e7\u5b89\u9054","Russian Federation":"\u4fc4\u7f85\u65af\u806f\u90a6","Saint Helena":"\u8056\u8d6b\u52d2\u62ff","Saint Kitts-Nevis":"\u8056\u514b\u91cc\u65af\u591a\u798f\u53ca\u5c3c\u7dad\u65af","Saint Lucia":"\u8056\u9732\u897f\u4e9e","Saint Vincent and the Grenadines":"\u8056\u6587\u68ee\u53ca\u683c\u745e\u90a3\u4e01","El Salvador":"\u85a9\u723e\u74e6\u591a","Samoa":"\u85a9\u6469\u4e9e","San Marino":"\u8056\u99ac\u5229\u8afe","Sao Tome and Principe":"\u8056\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4","Saudi Arabia":"\u6c99\u70cf\u5730\u963f\u62c9\u4f2f","Senegal":"\u585e\u5167\u52a0\u723e","Seychelles":"\u585e\u5e2d\u723e","Sierra Leone":"\u7345\u5b50\u5c71","Singapore":"\u65b0\u52a0\u5761","Serbia":"\u585e\u723e\u7dad\u4e9e","Slovakia":"\u65af\u6d1b\u4f10\u514b","Slovenia":"\u65af\u6d1b\u7dad\u5c3c\u4e9e","Solomon Islands":"\u7d22\u7f85\u9580\u7fa4\u5cf6","Somalia":"\u7d22\u99ac\u5229\u4e9e","South Africa":"\u5357\u975e","Spain":"\u897f\u73ed\u7259","Sri Lanka":"\u65af\u91cc\u862d\u5361","Sudan":"\u8607\u4e39","Suriname":"\u8607\u5229\u5357","Swaziland":"\u53f2\u74e6\u6fdf\u862d","Sweden":"\u745e\u5178","Switzerland":"\u745e\u58eb","Syria":"\u6558\u5229\u4e9e","Tajikistan":"\u5854\u5409\u514b","Tanzania":"\u5766\u5c1a\u5c3c\u4e9e","Taiwan":"\u53f0\u7063","Thailand":"\u6cf0\u570b","Trinidad and Tobago":"\u5343\u91cc\u9054\u53ca\u6258\u5df4\u54e5","Timor-Leste":"\u6771\u5e1d\u6c76","Togo":"\u591a\u54e5","Tokelau":"\u6258\u514b\u52de","Tonga":"\u6e6f\u52a0","Tunisia":"\u7a81\u5c3c\u897f\u4e9e","Turkey":"\u571f\u8033\u5176","Turkmenistan":"\u571f\u5eab\u66fc","Tuvalu":"\u5410\u74e6\u9b6f","Uganda":"\u70cf\u5e72\u9054","Ukraine":"\u70cf\u514b\u862d","United Arab Emirates":"\u963f\u62c9\u4f2f\u806f\u5408\u5927\u516c\u570b","United Kingdom":"\u82f1\u570b","United States":"\u7f8e\u570b","Uruguay":"\u70cf\u62c9\u572d","Uzbekistan":"\u70cf\u8332\u5225\u514b","Vanuatu":"\u842c\u90a3\u675c","Vatican City":"\u68b5\u8482\u5ca1","Venezuela":"\u59d4\u5167\u745e\u62c9","Vietnam":"\u8d8a\u5357","Wallis and Futuna":"\u74e6\u5229\u65af\u7fa4\u5cf6\u548c\u5bcc\u5716\u7d0d\u7fa4\u5cf6","Western Sahara":"\u897f\u6492\u54c8\u62c9","Yemen":"\u8449\u9580","Yugoslavia":"\u5357\u65af\u62c9\u592b","Zambia":"\u5c1a\u6bd4\u4e9e","Zimbabwe":"\u8f9b\u5df4\u5a01"}')},226:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),i=(a(92),a(6)),l=a.n(i),s=a(4),u=a(28),m=(a(94),a(2)),d=(a(95),"SET_SHOP"),p="SET_USER",f="SET_PRODUCTS",h="SET_ARTICLES",g="INIT_CART",E="SET_CART_ITEMS",v="SET_HOME_CONTEXT",b="SET_LOCALE",y="SET_COLLECTIONS",N="SET_SELECTED_COLLECTION",w=a(7);var O=Object(w.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings,cart:e.cart,i18n:e.i18n}}),(function(e){return{setLocale:function(t){return e({type:b,payload:t})}}}))((function(e){var t=Object(u.g)(),a=Object(n.useState)(!1),c=Object(m.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),d=Object(m.a)(l,2),p=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(m.a)(h,2),E=g[0],v=g[1],b=e.shop,y=e.cart,N=e.settings,w=e.i18n,O=w.locale,C=w.__,j=w.locales,x=((N||{}).layout||{}).navBar||{display:{home:!0,blog:!0,shop:!0,cart:!0,user:!0,language:!0},mobileDisplay:{home:!0,blog:!0,shop:!0,cart:!0,user:!0}};return Object(n.useEffect)((function(){return window.onscroll=function(){i(window.pageYOffset>69)},function(){window.onscroll=null}}),[]),r.a.createElement("div",{className:"navBar",style:{boxShadow:o?"0px 1px 8px #dddddd":"none",border:"0.5px solid #dddddd"}},r.a.createElement("div",{className:"navBar-wrapper"},r.a.createElement("div",{className:"navBar-item title"},r.a.createElement(s.b,{to:"/"},b.logo.length>0?r.a.createElement("img",{className:"logo",src:b.logo}):null)),x&&!0===(x.display||{}).home?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/",style:{fontWeight:"/"===t.pathname?500:300}},C("Home"))):null,x&&!0===(x.display||{}).blog?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/blogs",style:{fontWeight:t.pathname.startsWith("/blogs")?500:300}},C("Blog"))):null,x&&!0===(x.display||{}).shop?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/products",style:{fontWeight:t.pathname.startsWith("/products")?500:300}},C("Shop"))):null,x&&!0===(x.display||{}).language?r.a.createElement("div",{className:"navBar-item"},r.a.createElement("button",{onClick:function(){return v(!E)}},r.a.createElement("i",{className:"fas fa-globe-asia"})),r.a.createElement("div",{className:"locale-menu ".concat(E?"expanded":"")},j.map((function(t){return r.a.createElement("button",{key:"lang-".concat(t.code),className:"locale-btn",onClick:function(){e.setLocale(t.code),v(!1)}},O==t.code?r.a.createElement("b",null,t.name):t.name)})))):null,x&&!0===(x.display||{}).cart?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/cart"},y.items.length>0?r.a.createElement("span",{className:"count"},y.items.reduce((function(e,t){return e+parseInt(t.qty)}),0)):null,r.a.createElement("i",{className:"fas fa-shopping-cart"}))):null,x&&!0===(x.display||{}).user?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/users"},r.a.createElement("i",{className:"fas fa-user"}))):null),r.a.createElement("div",{className:"navBar-wrapper-mobile"},r.a.createElement("div",{className:"top-body"},r.a.createElement("button",{className:"expand-btn",onClick:function(){return f(!p)}},p?r.a.createElement("i",{className:"fas fa-times"}):r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("div",{className:"navBar-item title"},b.logo.length>0?r.a.createElement("img",{className:"logo",src:b.logo}):null),x&&!0===(x.mobileDisplay||{}).cart?r.a.createElement("div",{className:"fast-link"},r.a.createElement(s.b,{to:"/cart",onClick:function(){return f(!1)}},y.items.length>0?r.a.createElement("span",{className:"count"},y.items.reduce((function(e,t){return e+parseInt(t.qty)}),0)):null,r.a.createElement("i",{className:"fas fa-shopping-cart"}))):null,x&&!0===(x.mobileDisplay||{}).user?r.a.createElement("div",{className:"fast-link"},r.a.createElement(s.b,{to:"/users",onClick:function(){return f(!1)}},r.a.createElement("i",{className:"fas fa-user"}))):null),r.a.createElement("div",{className:"navBar-item-list ".concat(p?"expand":"")},x&&!0===(x.mobileDisplay||{}).home?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/",style:{fontWeight:"/"===t.pathname?500:300},onClick:function(){return f(!1)}},C("Home"))):null,x&&!0===(x.mobileDisplay||{}).blog?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/blogs",style:{fontWeight:t.pathname.startsWith("/blogs")?500:300},onClick:function(){return f(!1)}},C("Blog"))):null,x&&!0===(x.mobileDisplay||{}).shop?r.a.createElement("div",{className:"navBar-item"},r.a.createElement(s.b,{to:"/products",style:{fontWeight:t.pathname.startsWith("/products")?500:300},onClick:function(){return f(!1)}},C("Shop"))):null)))}));a(102);var C=Object(w.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings,i18n:e.i18n}}))((function(e){var t=e.shop,a=e.settings,n=e.i18n.__,c=((a||{}).layout||{}).footer||{display:{blog:!0,shop:!0,user:!0}};return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"col shop"},r.a.createElement("div",{className:"shop-title"},t.name),r.a.createElement("div",{className:"shop-desc"},t.description)),r.a.createElement("div",{className:"col links"},r.a.createElement(s.b,{to:"/"},n("Home")),c&&!0===(c.display||{}).blog?r.a.createElement(s.b,{to:"/blogs"},n("Blog")):null,c&&!0===(c.display||{}).shop?r.a.createElement(s.b,{to:"/products"},n("Shop")):null,c&&!0===(c.display||{}).cart?r.a.createElement(s.b,{to:"/cart"},n("Cart")):null,c&&!0===(c.display||{}).user?r.a.createElement(s.b,{to:"/users"},n("My Account")):null),r.a.createElement("div",{className:"col links"},r.a.createElement(s.b,{to:"/pages/terms_and_conditions"},n("Terms and Conditions")),r.a.createElement(s.b,{to:"/pages/privacy_policy"},n("Privacy Policy")),r.a.createElement(s.b,{to:"/pages/shipping_policy"},n("Shipping Policy"))),r.a.createElement("div",{className:"col links social"},function(){var e={facebook:"fab fa-facebook",instagram:"fab fa-instagram",twitter:"fab fa-twitter",youtube:"fab fa-youtube",pinterest:"fab fa-pinterest"},t=((a||{}).links||{}).social||{};return Object.keys(t).filter((function(e){return t[e]})).map((function(a){return r.a.createElement("a",{key:"footer-social-link-".concat(a),href:t[a],target:"_blank"},r.a.createElement("i",{className:e[a]}))}))}())),r.a.createElement("div",{className:"copyright"},r.a.createElement("div",null,"Copyright@",(new Date).getFullYear()," ",t.name,"."),r.a.createElement("div",{className:"powered-by"},r.a.createElement("a",{href:"https://oneshop.cloud"},r.a.createElement("img",{src:"/assets/images/oneshop_logo.png"})," Powered by Oneshop."))))})),j=(a(103),a(8)),x=a(3);var S=function(e){return r.a.createElement("div",{id:e.id,style:Object(x.a)({width:"100%",height:1,backgroundColor:"#dfdfdf"},e.styles)})},k=(a(128),a(9)),_=a(34);var P=Object(w.b)((function(e,t){return Object(x.a)({homeContext:e.home},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:v,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,o=Object(n.useState)(!1),i=Object(m.a)(o,2),l=i[0],u=i[1],d=new k.a;function p(e){return{title:((e.sections||[])[0]||{}).title||"",thumbnail:(((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0]||{}).url||""}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);u(!1),d.article.get(Object(x.a)({},a)).then((function(e){u(!1),e.length&&t(c,e)})).catch((function(e){u(!1),alert("Failed to get featured article")}))}()}),[]),a[c]&&!l?r.a.createElement("div",{className:"widget-banner",style:Object(x.a)({},e.styles)},function(){var t={duration:void 0!=e.duration?e.duration:5e3,transitionDuration:void 0!=e.transitionDuration?e.transitionDuration:300,infinite:void 0!=e.infinite&&e.infinite,indicators:void 0==e.indicators||e.indicators,arrows:void 0==e.arrows||e.arrows};return(r.a.createElement(_.Slide,t,(a[c]||[]).map((function(e,t){return r.a.createElement(s.b,{key:"slide-image-".concat(t),to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(p(e).thumbnail,")")}},r.a.createElement("h1",null,p(e).title))))}))))}()):l?r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null)})),T=(a(149),a(25)),L=a.n(T);var A=Object(w.b)((function(e,t){return Object(x.a)({homeContext:e.home,shop:e.shop.session,i18n:e.i18n},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:v,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,o=e.shop,i=e.i18n.__,l=Object(n.useState)(!1),u=Object(m.a)(l,2),d=u[0],p=u[1],f=new k.a;function h(e){return{title:(e||{}).name||"",thumbnail:(((((e.variants||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0]||{}).url||"",price:(e||{}).price||0}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);p(!0),f.merchandise.get(Object(x.a)({},a)).then((function(e){p(!1),e.length>0&&t(c,e)})).catch((function(e){p(!1),alert("Failed to get products")}))}()}),[]),a[c]&&!d?r.a.createElement("div",{className:"widget-product",style:Object(x.a)({},e.styles)},r.a.createElement("h1",null,i(e.title)),r.a.createElement(L.a,{cols:e.cols||5,rows:e.rows||1,gap:15,loop:!0},(a[c]||[]).map((function(e,t){return r.a.createElement(L.a.Item,{key:"slide-image-".concat(t)},r.a.createElement(s.b,{to:"/products/".concat(e.id)},r.a.createElement("div",{className:"product-grid"},r.a.createElement("img",{src:h(e).thumbnail}),r.a.createElement("div",{className:"title"},h(e).title),r.a.createElement("div",{className:"price"},o.currency.toUpperCase()," ",h(e).price.toFixed(2)))))})))):d?r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null)}));a(153);var I=Object(w.b)((function(e,t){return Object(x.a)({homeContext:e.home,i18n:e.i18n},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:v,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,o=e.i18n.__,i=Object(n.useState)(!1),l=Object(m.a)(i,2),u=l[0],d=l[1],p=new k.a;function f(e){return{title:((e.sections||[])[0]||{}).title||"",description:((e.sections||[])[0]||{}).description||"",thumbnail:(((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0]||{}).url||""}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);(e.collections||"").length>0&&(a.collections=e.collections);d(!0),p.article.get(Object(x.a)({},a)).then((function(e){d(!1),e.length>0&&t(c,e)})).catch((function(e){d(!1),alert("Failed to get articles")}))}()}),[]),a[c]&&!u?r.a.createElement("div",{className:"widget-article",style:Object(x.a)({},e.styles)},r.a.createElement("h1",null,o(e.title)),r.a.createElement(L.a,{cols:e.cols||2,rows:e.rows||2,gap:15,loop:!0},(a[c]||[]).map((function(e,t){return r.a.createElement(L.a.Item,{key:"slide-image-".concat(t)},r.a.createElement(s.b,{to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"article-grid"},r.a.createElement("div",{className:"thumb"},r.a.createElement("img",{src:f(e).thumbnail})),r.a.createElement("div",{className:"title"},f(e).title),r.a.createElement("div",{className:"desc"},f(e).description.replace(/<[^>]*>?/gm,"").substr(0,70)+"..."))))})))):u?r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null)}));a(154);var B={Banner:P,Product:A,Seperator:S,ArticleTile:I,CollectionProduct:Object(w.b)((function(e,t){return Object(x.a)({homeContext:e.home,shop:e.shop.session,i18n:e.i18n},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:v,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,o=e.shop,i=e.i18n.__,l=Object(n.useState)(!1),u=Object(m.a)(l,2),d=u[0],p=u[1],f=new k.a;function h(e){return{title:e.name,thumbnail:((((e.variants||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||"",price:e.price}}return(Object(n.useEffect)((function(){a[c]||fetch("/api/collections?tags=".concat(e.tags)).then((function(e){return e.json()})).then((function(e){e.data.rows.length>0&&f.merchandise.get({collections:e.data.rows.map((function(e){return e.id})).join(",")}).then((function(e){p(!1),e.length>0&&t(c,e)})).catch((function(e){p(!1),alert("Failed to get collection products")}))}))}),[]),a[c]&&!d?r.a.createElement("div",{className:"widget-bestseller",style:Object(x.a)({},e.styles)},r.a.createElement("h1",null,i(e.title)),r.a.createElement(L.a,{cols:e.cols||5,rows:e.rows||1,gap:15,loop:!0},(a[c]||[]).map((function(e,t){return r.a.createElement(L.a.Item,{key:"slide-image-".concat(t)},r.a.createElement(s.b,{to:"/products/".concat(e.id)},r.a.createElement("div",{className:"product-grid"},r.a.createElement("img",{src:h(e).thumbnail}),r.a.createElement("div",{className:"title"},h(e).title),r.a.createElement("div",{className:"price"},o.currency.toUpperCase()," ",h(e).price.toFixed(2)))))})))):d?r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null)}))};Object(w.b)((function(e){return{session:e.shop.session,settings:e.shop.settings}}))((function(e){var t=e.settings.layout;return r.a.createElement("div",{className:"home"},t.content.map((function(e,t){var a=void 0!=e.widget&&e.widget.length>0?B[e.widget]:void 0;if(void 0!=a)return r.a.createElement(a,Object.assign({key:"widget-".concat(e.widget,"-").concat(t),id:"widget-".concat(e.widget,"-").concat(t)},e))})))})),a(155);var M=a(46);var D=Object(w.b)((function(e){return{products:e.product.products,i18n:e.i18n,shop:e.shop}}),(function(e){return{setProducts:function(t){return e({type:f,payload:t})},setCollections:function(t){return e({type:y,payload:t})},setSelectedCollection:function(t){return e({type:N,payload:t})}}}))((function(e){var t=new k.a,a=e.products,c=e.i18n.__,o=e.shop,i=o.collections,u=o.selectedCollection,d=Object(n.useState)(!1),p=Object(m.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)({loading:!1}),E=Object(m.a)(g,2),v=E[0],b=E[1];function y(){if(!f){w();var n={page:Math.ceil(a.length/15)+1,ordering:"name|desc"};isNaN((u||{}).value)||(n.collections=u.value),t.merchandise.get(n).then((function(t){t.length?e.setProducts(a.concat(t)):h(!0),w()})).catch((function(e){return console.error(e)}))}}function N(e){var t="https://via.placeholder.com/150",a=e.variants.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function w(){b((function(e){var t=Object(x.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||f||y(),i||[].length||function(){var t;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(fetch("/api/collections",{method:"GET"}));case 3:return t=a.sent,a.next=6,l.a.awrap(t.json());case 6:t=a.sent,e.setCollections((t.data||{}).rows||[]),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),null,null,[[0,10]],Promise)}()}),[a]),r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"header-wrapper"},(i||[]).length?r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("h1",null,c("Products")," - "),r.a.createElement("div",{className:"collection-select"},r.a.createElement(M.a,{placeholder:c("All"),value:u||null,onChange:function(t){h(!1),e.setProducts([]),e.setSelectedCollection(t)},options:[{id:null,name:"All"}].concat(i||[]).map((function(e){return{value:e.id,label:c(e.name.toLowerCase())}}))}))):r.a.createElement("h1",null,c("Products"))),r.a.createElement("div",{className:"list"},(a||[]).map((function(e,t){return r.a.createElement("div",{key:"product-".concat(t),className:"item"},r.a.createElement(s.b,{to:"/products/".concat(e.id)},r.a.createElement("div",{className:"item-wrapper"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:N(e)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"price"},"HKD ",e.price)))))}))),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===v.loading?r.a.createElement("button",{className:"load-more-btn",onClick:y},c("Load more")):r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0}))))})),F=a(24),q=(a(156),a(83)),z=a.n(q);var H=Object(w.b)((function(e){return{cart:e.cart,shop:e.shop.session,i18n:e.i18n}}),(function(e){return{setCartItems:function(t){return e({type:E,payload:t})}}}))((function(e){var t=new k.a,a=Object(u.h)(),c=Object(n.useState)({}),o=Object(m.a)(c,2),i=o[0],d=o[1],p=Object(n.useState)({}),f=Object(m.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)({loading:!1,addingToCart:!1}),v=Object(m.a)(E,2),b=v[0],y=v[1],N=Object(n.useState)(1),w=Object(m.a)(N,2),O=w[0],C=w[1],S=Object(n.useState)(null),P=Object(m.a)(S,2),T=P[0],L=P[1],A=Object(n.useState)({}),I=Object(m.a)(A,2),B=I[0],M=I[1],D=e.cart,q=e.shop,H=e.i18n.__;function R(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y((function(a){var n=Object(x.a)({},a);return t?n.addingToCart=e:n.loading=e,n}))}function U(e,t){g((function(a){var n=Object(x.a)({},a);return Object.keys(n[e]).forEach((function(a){return n[e][a]=a==t})),n})),M((function(a){var n=Object(x.a)({},a);return n[e]=t,n}))}function G(){var e=null;return((i||{}).variants||[]).forEach((function(t){var a=t.description;if(Object.keys(B).length===Object.keys(a).length){var n=!0;Object.keys(a).forEach((function(e){a[e]!=B[e]&&(n=!1)})),n&&(e=t)}})),e}Object(n.useEffect)((function(){b.loading||Object.keys(i).length||(R(!0),t.merchandise.get({ids:a.id}).then((function(e){e.length||L("/notfound"),d(function(){var t=Object(x.a)({},e[0]);return t.variants=t.variants.map((function(e){return e.description=e.description.split(",").map((function(e){return Object(F.a)({},e.split(":")[0],e.split(":")[1])})).reduce((function(e,t){return Object.assign(e,t)}),{}),e})),t}()),g(function(){var t={};return(e[0].variants||[]).forEach((function(e){Object.keys(e.description).forEach((function(a){var n=a,r=e.description[a];t[n]=t[n]||{},t[n][r]=t[n][r]||0==Object.keys(t[n]).length}))})),t}()),R(!1)})).catch((function(e){R(!1),L("/notfound")}))),Object.keys(h).length>0&&!Object.keys(B).length&&Object.keys(h).forEach((function(e){Object.keys(h[e]).forEach((function(t){!0===h[e][t]&&U(e,t)}))}))}),[h]);var W=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=1==e?O+1:O-1;t<1&&(t=1);var a=G()||{stock:1};t>=a.stock&&(t=a.stock),C(t)},Y=G()||{};return b.loading?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):T?r.a.createElement(u.a,{to:T}):r.a.createElement("div",{className:"product-detail"},r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"back-button-wrapper"},r.a.createElement(s.b,{to:"/products"},r.a.createElement("i",{className:"fas fa-chevron-left"}),H("Back to products"))),r.a.createElement("div",{className:"upper-row"},function(){var e={duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0};return(r.a.createElement("div",{className:"slide-container"},r.a.createElement(_.Slide,e,function(){var e=[];return(i.variants||[]).forEach((function(t){return t.media.forEach((function(t){return e.push(t.url)}))})),e.filter((function(t,a){return e.indexOf(t)===a})).map((function(e,t){return r.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e,")")}}))}))}())))}()),r.a.createElement("div",{className:"lower-row"},r.a.createElement("div",{className:"description"},r.a.createElement("h1",null,i.name),r.a.createElement("div",{className:"price"},q.currency.toUpperCase()," ",(Y.price||0).toFixed(2),0==Y.stock?r.a.createElement("span",{className:"out-of-stock"},"Out of stock"):null),r.a.createElement("p",null,z()(i.description||"")),r.a.createElement("div",{className:"tags"},(i.tags||[]).map((function(e){return r.a.createElement("div",{key:"product-tag-".concat(e),className:"tag"},"#",e)})))),r.a.createElement("div",{className:"gap",style:{width:"50px"}}),r.a.createElement("div",{className:"variants"},1==Object.keys(h).length&&1==Object.values(h).length?null:Object.keys(h).map((function(e){return r.a.createElement("div",{key:"variant-list-".concat(e),className:"list"},r.a.createElement("h4",null,e.toUpperCase()),r.a.createElement("div",{className:"items"},Object.keys(h[e]).map((function(t){return r.a.createElement("div",{onClick:function(){U(e,t)},key:"variant-".concat(e,"-").concat(t),className:"item ".concat(!0===h[e][t]?"selected":"")},t)}))))})),function(){var e=(G()||{}).stock<=0,t=G()||{stock:1};return r.a.createElement("div",{className:"qty"},r.a.createElement("button",{onClick:function(){return W(!1)},disabled:e||1==O},r.a.createElement("i",{class:"fas fa-minus"})),r.a.createElement("input",{value:O,type:"number",disabled:e}),r.a.createElement("button",{onClick:function(){return W(!0)},disabled:e||O>=t.stock},r.a.createElement("i",{class:"fas fa-plus"})))}(),r.a.createElement("button",{className:"add-to-cart",onClick:function(){var a,n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(R(!0,!0),!(a=(G()||{}).id||null)){c.next=19;break}return n=O||0,D.items.forEach((function(e){e.id==a&&(n+=e.qty)})),c.prev=5,c.next=8,l.a.awrap(t.cart.item.put(D.id,{id:a,qty:n}));case 8:return c.next=10,l.a.awrap(t.cart.item.get(D.id));case 10:r=c.sent,e.setCartItems(r),R(!1,!0),c.next=19;break;case 15:c.prev=15,c.t0=c.catch(5),alert("Failed to add item to cart"),R(!1,!0);case 19:case"end":return c.stop()}}),null,null,[[5,15]],Promise)},disabled:0==Y.stock||b.addingToCart},b.addingToCart?r.a.createElement(j.MoonLoader,{size:20,color:"white",loading:!0}):H("Add to Cart"))))))}));a(199);var R=Object(w.b)((function(e){return{articles:e.article.articles,i18n:e.i18n}}),(function(e){return{setArticles:function(t){return e({type:h,payload:t})}}}))((function(e){var t=new k.a,a=e.articles,c=Object(n.useState)({loading:!1}),o=Object(m.a)(c,2),i=o[0],l=o[1],u=e.i18n.__;function d(){h(),t.article.get({page:Math.ceil(a.length/15)+1}).then((function(t){e.setArticles(a.concat(t)),h()})).catch((function(e){return console.error(e)}))}function p(e){var t="https://via.placeholder.com/150",a=e.sections.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function f(e){var t={};return(e.sections||[]).forEach((function(e){!Object.keys(t).length&&e.title.length>0&&(t=e)})),t}function h(){l((function(e){var t=Object(x.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||d()}),[]),r.a.createElement("div",{className:"blogs"},r.a.createElement("h1",null,u("Blog")," - ",u("All")),r.a.createElement("div",{className:"list"},a.map((function(e){return r.a.createElement("div",{key:"blog-".concat(e.id),className:"blog"},r.a.createElement(s.b,{to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"blog-wrapper"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:p(e)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},f(e).title),r.a.createElement("div",{className:"description"},"".concat((f(e).description||"").replace(/<[^>]*>?/gm,"").substr(0,100),"...")),r.a.createElement("div",{className:"time"},new Date(e.time).toLocaleDateString())))))}))),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===i.loading?r.a.createElement("button",{className:"load-more-btn",onClick:d},u("Load more")):r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0}))))})),U=(a(200),a(45)),G=a.n(U);var W=Object(w.b)((function(e){return{i18n:e.i18n}}))((function(e){var t,a=new k.a,c=Object(u.h)(),o=Object(n.useState)({}),i=Object(m.a)(o,2),l=i[0],d=i[1],p=Object(n.useState)({loading:!1}),f=Object(m.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)(null),v=Object(m.a)(E,2),b=v[0],y=v[1],N=e.i18n.__;function w(e){g((function(t){var a=Object(x.a)({},t);return a.loading=e,a}))}return Object(n.useEffect)((function(){h.loading||Object.keys(l).length||(w(!0),a.article.get({ids:c.id}).then((function(e){e.length||y("/notfound"),d(e[0]),w(!1)})).catch((function(e){w(!1),y("/notfound")})))}),[]),h.loading?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):b?r.a.createElement(u.a,{to:b}):r.a.createElement("div",{className:"article-detail"},r.a.createElement("div",{className:"article-detail-wrapper"},r.a.createElement("div",{className:"back-button-wrapper"},r.a.createElement(s.b,{to:"/blogs"},r.a.createElement("i",{className:"fas fa-chevron-left"}),N("Back to blog"))),r.a.createElement("div",{className:"content"},((t=l).sections||[]).map((function(e,a,n){return r.a.createElement("div",{key:"article-section-".concat(a),className:"section"},e.media.length>0?function(e){var t={duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0};return(r.a.createElement("div",{className:"slide-container"},r.a.createElement(_.Slide,t,(e.media||[]).map((function(e,t){return r.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.url,")")}}))})))))}(e):null,0==a&&n.length>1?r.a.createElement("h1",null,e.title):r.a.createElement("h2",null,e.title),0==a?r.a.createElement("span",null,new Date(t.time).toLocaleDateString()):null,r.a.createElement("p",null,G()(e.description)))})))))}));var Y=function(){return r.a.createElement("div",null,"404 Not Found")},K=a(30),$=(a(212),a(84)),J=a(47),Z=function(e,t){var a=X(e),n=Q(e,t);return a?ae(a,n):null},V={contact:{first_name:{field_name:"First Name",regex:/^.*$/,required:!0},last_name:{field_name:"Last Name",regex:/^.*$/,required:!0},email:{field_name:"Email",regex:/^[a-zA-Z0-9\-\_]+\@([0-9a-zA-Z\-\_]+\.)+[a-zA-Z0-9\-\_]+$/,required:!0},phone:{field_name:"Phone",regex:/^\+?[0-9]+$/,required:!0}},payment:{card:{field_name:"Card Number",regex:/^([0-9]{4}\-?){4}$/,required:!0},csc:{field_name:"CVC",regex:/^[0-9]{3,4}$/,required:!0},exp_date:{field_name:"Expiry",regex:/^[0-9]{2}\/?[0-9]{2}$/,required:!0}},coupons:{field_name:"Coupon",regex:/^[a-zA-Z0-9]+$/,required:!1},shipping:{address:{field_name:"Address",regex:/^.*$/,required:!0},country:{field_name:"Country",regex:/^[A-Z]{2}$/,required:!0}}},X=function(e){return Q(e,V)},Q=function(e,t){return function e(t,a){var n=t.shift();return t.length>0&&a[n]&&"[object Object]"===Object.prototype.toString.call(a[n])?e(t,a[n]):a[n]||null}(e.split("."),t)},ee=function(e,t){if(e&&t){"string"===typeof t&&(t=t.split("."));for(var a=0;a<t.length-1;a++)if("undefined"===typeof(e=e[t[a]]))return;delete e[t.pop()]}},te=function(e,t,a){return function e(t,a,n){if("string"===typeof a&&(a=a.split(".")),a.length>1){var r=a.shift();e(t[r]="[object Object]"===Object.prototype.toString.call(t[r])?t[r]:{},a,n)}else t[a[0]]=n}(e,t,a)},ae=function(e,t){return(t||"").length?new RegExp(e.regex,"ig").test(t)?null:{field:e.field_name,error:"is invalid"}:!0!==e.required||(t||"").length?void 0:{field:e.field_name,error:"is required"}},ne=function(e){return{"Taiwan, Province of China":"Taiwan"}[e]||e},re=["tw"];var ce=Object(w.b)((function(e){return{cart:e.cart,shop:e.shop.session,user:e.user.session,i18n:e.i18n}}),(function(e){return{setCartItems:function(t){return e({type:E,payload:t})}}}))((function(e){var t=new k.a,a=e.cart,c=e.shop,o=e.user,i=Object(n.useState)(1),d=Object(m.a)(i,2),p=d[0],f=d[1],h=Object(n.useState)([]),g=Object(m.a)(h,2),E=g[0],v=g[1],b=Object(n.useState)(!1),y=Object(m.a)(b,2),N=y[0],w=y[1],O=Object(n.useState)(null),C=Object(m.a)(O,2),S=C[0],_=C[1],P=Object(n.useState)(null),T=Object(m.a)(P,2),L=T[0],A=T[1],I=Object(n.useState)({contact:{first_name:"",last_name:"",email:"",phone:""},payment:{card:"",csc:"",exp_date:""},shipping:{address:null,country:"HK"},shippings:Object(F.a)({},c.id,null),items:a.id,notes:""}),B=Object(m.a)(I,2),D=B[0],q=B[1],z=Object(n.useState)(""),H=Object(m.a)(z,2),R=H[0],U=H[1],G=Object(n.useState)({}),W=Object(m.a)(G,2),Y=W[0],V=W[1],X=Object($.getCodeList)(),ae=e.i18n.__;function ce(){var e,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(!0),((e=Object(x.a)({},D)).coupons||"").trim().length||delete e.coupons,(e.notes||"").trim().length||delete e.notes,((R||"").trim().length||(e.notes||"").trim().length)&&(e.notes=JSON.stringify(Object(F.a)({},c.id,(R||"")+"\n"+(e.notes||"")))),e.payment.exp_date="".concat(e.payment.exp_date.slice(0,2),"/").concat(e.payment.exp_date.slice(2)),r.prev=6,null==o){r.next=13;break}return r.next=10,l.a.awrap(t.consumer.checkout(e));case 10:r.t0=r.sent,r.next=16;break;case 13:return r.next=15,l.a.awrap(t.order.place(e));case 15:r.t0=r.sent;case 16:(n=r.t0).rows&&(n.rows||[]).length>0?A(Object(x.a)({},S,{shipping:D.shipping,contact:D.contact,notes:D.notes||"",items:Object(K.a)(a.items)})):alert("Unknown error occured, please try again"),w(!1),r.next=25;break;case 21:r.prev=21,r.t1=r.catch(6),Array.isArray(r.t1.message)&&(r.t1.message||[]).length>0?alert(r.t1.message.join("\n")):alert("Unknown error occured, please try again"),w(!1);case 25:case"end":return r.stop()}}),null,null,[[6,21]],Promise)}function oe(e,t){q((function(a){var n=Object(x.a)({},a);return te(n,e,t),n}))}function ie(e){var t=Q(e,Y)||null;return(r.a.createElement("span",{className:"error-msg"},t||""))}function le(e){var t=Z(e||"",D);null!=t&&(t="".concat(ae(t.field)," ").concat(ae(t.error))),V((function(a){var n=Object(x.a)({},a);return t?te(n,e,t):ee(n,e),n}))}function se(){var e=!0;return["contact","payment","shipping"].forEach((function(t){void 0!=Y[t]&&Object.keys(Y[t]).length>0&&(e=!1)})),e}var ue=[function(){return r.a.createElement("div",{className:"step-1"},r.a.createElement("h2",null,ae("Your Information")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("First Name")),r.a.createElement("input",{placeholder:ae("Peter"),value:D.contact.first_name,onChange:function(e){return oe("contact.first_name",e.target.value)},onBlur:function(){return le("contact.first_name")}}),ie("contact.first_name")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Last Name")),r.a.createElement("input",{placeholder:ae("Chan"),value:D.contact.last_name,onChange:function(e){return oe("contact.last_name",e.target.value)},onBlur:function(){return le("contact.last_name")}}),ie("contact.last_name"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Email")),r.a.createElement("input",{placeholder:"Peter.chan@abc.com",value:D.contact.email,onChange:function(e){return oe("contact.email",e.target.value)},onBlur:function(){return le("contact.email")}}),ie("contact.email")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Phone")),r.a.createElement("input",{placeholder:"+85291234567",value:D.contact.phone,onChange:function(e){return oe("contact.phone",e.target.value)},onBlur:function(){return le("contact.phone")}}),ie("contact.phone"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Country")),r.a.createElement(M.a,{value:{value:(D.shipping.country||"hk").toLowerCase(),label:ae(ne(X[(D.shipping.country||"hk").toLowerCase()]))},styles:{option:function(e,t){var a=t.value;return Object(x.a)({},e,{},["tw","hk","sg","my","mo"].includes(a)?{"font-weight":"900","background-color":"yellow"}:{})}},onChange:function(e){return oe("shipping.country",e.value.toUpperCase())},options:Object.keys(X).map((function(e){return{value:e,label:ae(ne(X[e]))}}))})),r.a.createElement("div",{className:"form-group"},re.indexOf((D.shipping.country||"hk").toLowerCase())>-1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,ae("Extra information")),r.a.createElement("input",{placeholder:ae("e.g. Your Taiwan ID card number"),value:R,onChange:function(e){return U(e.target.value)}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){return function(){var e,t,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return w(!0),e=[],r.prev=2,r.next=5,l.a.awrap(fetch("/api/shipping_methods",{method:"GET"}));case 5:return t=r.sent,r.next=8,l.a.awrap(t.json());case 8:if(r.t4=r.sent,r.t4){r.next=11;break}r.t4={};case 11:if(r.t3=r.t4.data,r.t3){r.next=14;break}r.t3={};case 14:if(r.t2=r.t3.rows,r.t2){r.next=17;break}r.t2=[];case 17:if(r.t1=r.t2[0],r.t1){r.next=20;break}r.t1={};case 20:if(r.t0=r.t1.shipping_methods,r.t0){r.next=23;break}r.t0=[];case 23:if(t=r.t0,e=e.concat(t.map((function(e){return{id:e.code.replace(/\r?\n|\r/g,""),charge:e.charge,title:e.title,address_required:e.shipping_address_required}}))),!c.auto_ship){r.next=33;break}return r.next=28,l.a.awrap(fetch("/api/carts/".concat(a.id,"/shipment/rates"),{method:"POST",body:JSON.stringify({shipping:{address:"HK",country:D.shipping.country}})}));case 28:return n=r.sent,r.next=31,l.a.awrap(n.json());case 31:n=r.sent.data.rows,e=e.concat(n.filter((function(e){return void 0!=e.rates[c.id]})).map((function(e){return{id:e.id,charge:e.rates[c.id],title:e.name,address_required:!0}})));case 33:e.length&&null==D.shippings[c.id]&&oe("shippings.".concat(c.id),e[0].id),v(e),f(2),w(!1),r.next=43;break;case 39:r.prev=39,r.t5=r.catch(2),alert("Failed to load shipping methods"),w(!1);case 43:case"end":return r.stop()}}),null,null,[[2,39]],Promise)}()},disabled:!(D.contact.first_name||"").length||!(D.contact.last_name||"").length||!(D.contact.email||"").length||!(D.contact.phone||"").length||!se()},ae("Shipping")," ",r.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return r.a.createElement("div",{className:"step-2"},r.a.createElement("h2",null,ae("Select a Shipping Method")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"shipping-methods"},E.length?E.map((function(e){return r.a.createElement("div",{key:"shipping-method-".concat(e.id),className:"shipping-method ".concat(D.shippings[c.id]==e.id?"selected":""),onClick:function(){return oe("shippings.".concat(c.id),e.id)}},D.shippings[c.id]==e.id?r.a.createElement("i",{className:"fas fa-check-square"}):r.a.createElement("i",{className:"far fa-check-square"}),r.a.createElement("div",{className:"title"},e.title)," -",r.a.createElement("div",{className:"charge"},c.currency.toUpperCase()," ",e.charge))})):r.a.createElement("div",{className:"shipping-method-none"},ae("No shipping method is available at the moment.")))),r.a.createElement("h2",null,ae("Shipping Address")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"1/F, ABC Building, 12 ABC Road, Hong Kong",value:D.shipping.address||"",onChange:function(e){return oe("shipping.address",e.target.value)},onBlur:function(){return le("shipping.address")}}),ie("shipping.address"))),r.a.createElement("h2",null,ae("Coupons")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"SUMMERSALE10",value:D.coupons||"",onChange:function(e){return oe("coupons",e.target.value)},onBlur:function(){return le("coupons")}}),ie("coupons"))),r.a.createElement("h2",null,ae("Notes")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{value:D.notes||"",placeholder:ae("Notes to us"),maxLength:500,onChange:function(e){return oe("notes",e.target.value)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){V({}),f(1)}},r.a.createElement("i",{className:"fas fa-chevron-left"})," ",ae("Information"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){return function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return w(!0),n.prev=1,0==((e=Object(x.a)({},D)).coupons||"").trim().length&&delete e.coupons,null==e.shippings[c.id]&&delete e.shippings[c.id],n.next=7,l.a.awrap(fetch("/api/carts/".concat(a.id,"/previews"),{method:"POST",body:JSON.stringify(Object(x.a)({},e))}));case 7:return t=n.sent,n.next=10,l.a.awrap(t.json());case 10:(t=n.sent).data?(t=t.data.rows[0],_(t),f(3)):alert(t.messages?(t.messages||[]).join("\n"):"Failed to confirm order amount."),w(!1),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(1),alert("Failed to confirm order amount."),w(!1);case 19:case"end":return n.stop()}}),null,null,[[1,15]],Promise)}()},disabled:!(D.shipping.address||"").length||!se()},ae("Payment")," ",r.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return r.a.createElement("div",{className:"step-3"},r.a.createElement("h2",null,ae("Payment")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Card Number")),r.a.createElement("input",{placeholder:"4242-4242-4242-4242",value:((D.payment.card||"").match(new RegExp("[0-9]{1,4}","g"))||[]).join("-"),onChange:function(e){return oe("payment.card",(e.target.value||"").split("-").join(""))},maxLength:19,onBlur:function(){return le("payment.card")}}),ie("payment.card"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("Expiry Date")),r.a.createElement("input",{placeholder:"10/20",value:((D.payment.exp_date||"").match(new RegExp("[0-9]{1,2}","g"))||[]).join("/"),onChange:function(e){return oe("payment.exp_date",(e.target.value||"").split("/").join(""))},onBlur:function(){return le("payment.exp_date")},maxLength:5}),ie("payment.exp_date")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,ae("CSC")),r.a.createElement("input",{placeholder:"123",type:"password",value:D.payment.csc||"",onChange:function(e){return oe("payment.csc",e.target.value)},onBlur:function(){return le("payment.csc")},maxLength:4}),ie("payment.csc"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){_(null),V({}),f(2)}},r.a.createElement("i",{className:"fas fa-chevron-left"})," ",ae("Shipping"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"pay-btn",onClick:ce,disabled:!(D.payment.card||"").length||!(D.payment.exp_date||"").length||!(D.payment.csc||"").length||!se()},ae("Confirm & Pay")," ",r.a.createElement("i",{className:"fas fa-check-circle"})))))}];return L?r.a.createElement(u.a,{to:{pathname:"/checkout/success",state:L}}):r.a.createElement("div",{className:"checkout"},r.a.createElement("h1",null,ae("Checkout")),r.a.createElement("div",{className:"checkout-wrapper"},N?r.a.createElement("div",{className:"loading-mask"},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null,r.a.createElement("div",{className:"steps"},r.a.createElement("div",{className:"progress-bar"},["Information","Shipping","Finish"].map((function(e,t){return r.a.createElement("div",{key:"step-label-".concat(t),className:"step-label ".concat(p>=t+1?"active":"")},ae(e))})),r.a.createElement("div",{className:"bar"},r.a.createElement("div",{className:"bar-fill",style:{width:"".concat((p-1)/2*100,"%")}}))),r.a.createElement("div",{className:"form"},ue[p-1]()),r.a.createElement("div",{className:"back-to-shopping-cart"},r.a.createElement(s.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-chevron-left"}),ae("Back to Shopping Cart")))),r.a.createElement("div",{style:{width:15}}),r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary-wrapper"},r.a.createElement("h3",null,ae("Summary")),r.a.createElement("div",{className:"amounts"},r.a.createElement("div",{className:"amt subtotal"},r.a.createElement("label",null,ae("Subtotal")),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(S?S.sub_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)).toFixed(2))),r.a.createElement("div",{className:"amt shipping-fee"},r.a.createElement("label",null,ae("Shipping fee")),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(S?S.shipping_fee:null!=D.shippings[c.id]&&(E.filter((function(e){return e.id==D.shippings[c.id]}))[0]||{}).charge||0).toFixed(2))),S&&((S.breakdowns[0]||{}).discounts||[]).length>0?r.a.createElement("div",{className:"amt discounts"},r.a.createElement("label",null,ae("Discounts")),S.breakdowns[0].discounts.map((function(e){return r.a.createElement("div",{key:"discount-".concat(e.id),className:"item"},r.a.createElement("label",{"data-tip":e.title||""},(e.title||"").length>20?"".concat((e.title||"").substring(0,20),"..."):e.title,r.a.createElement(J.a,null)),r.a.createElement("div",{className:"deducted-amt"},"- ",c.currency.toUpperCase()," ",e.amount))}))):null,r.a.createElement("div",{className:"amt total"},r.a.createElement("label",null,ae("TOTAL")),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(S?S.gross_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)+(null!=D.shippings[c.id]?(E.filter((function(e){return e.id==D.shippings[c.id]}))[0]||{}).charge:0)).toFixed(2))))))))})),oe=(a(214),a(26)),ie=new oe.default,le="wss://enquiry.oneshop.cloud",se=null,ue=function(){var e=ie.get("protocol");return null==e&&(e=me(),ie.set("protocol",e,{samesite:"None",secure:!1,path:"/"})),e};function me(){var e=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))}var de={getClient:function(e){var t,a,n,r,c,o,i,s,u,m;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:se=new WebSocket(le,ue()),t=null,a=null,n=!1,r={},c={},o={},i=function e(){a=setTimeout((function(){se&&se.readyState==WebSocket.OPEN?(se.send('{"message":"keep in touch!"}'),Object.values(o).forEach((function(e){return"function"==typeof e&&e(!0)}))):m(),e()}),15e3)},s=function(){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=console,r.next=3,l.a.awrap(ue());case 3:r.t1=r.sent,r.t0.log.call(r.t0,"====> connection opened, protocol: ",r.t1),t&&clearTimeout(t),n=!1,a&&clearTimeout(a),i(),Object.values(o).forEach((function(e){return"function"==typeof e&&e(!0)})),e&&e(se);case 11:case"end":return r.stop()}}),null,null,null,Promise)},(u=function(e){e.payload={method:"get"},e.setAction=function(t){return e.payload=e.payload||{},e.payload.action=t,e},e.setArguments=function(t){return e.payload=e.payload||{},e.payload.arguments=t,e},e.setForm=function(t){return e.payload=e.payload||{},e.payload.form=t,e},e.setMethod=function(t){return e.payload=e.payload||{},e.payload.method=t,e},e.cmd=function(t,a){e.payload=e.payload||{},e.payload.id=me(),r[e.payload.id]={handler:t,idCallback:a},void 0!=r[e.payload.id].idCallback&&r[e.payload.id].idCallback(e.payload.id),void 0!=e&&e.readyState===WebSocket.OPEN&&e.send(JSON.stringify(e.payload)),e.payload={method:"get"}},e.getBroadCastListener=function(e){return c[e]},e.registerBroadCastListener=function(e,t){c[e]=t},e.removeBroadCastListener=function(e){delete c[e]},e.getConnectionListeners=function(e){return o[e]},e.registerConnectionListeners=function(e,t){o[e]=t},e.removeConnectionListeners=function(e){delete o[e]},e.onmessage=function(e){var t={};try{t=JSON.parse((e||{}).data||"")}catch(a){t=t||{}}void 0!=t.broadcast&&Object.values(c).forEach((function(e){return"function"==typeof e&&e(t.broadcast)})),t.id&&"function"==typeof r[t.id].handler&&(r[t.id].handler(t),delete r[t.id])}})(se),m=function e(){a&&clearTimeout(a),n||(n=!0,t=setTimeout((function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:se=new WebSocket(le,ue()),Object.values(o).forEach((function(e){return"function"==typeof e&&e(!1)})),u(se),se.onopen=s,se.onclose=e,se.onerror=e;case 6:case"end":return t.stop()}}),null,null,null,Promise)}),1e3))},se.onopen=s,se.onclose=m,se.onerror=m;case 15:case"end":return d.stop()}}),null,null,null,Promise)},clearProtocol:function(e){try{ie.remove("protocol",{samesite:"None",secure:!1,path:"/"}),null!=se&&"function"==typeof se.close&&se.close()}catch(t){}e&&e()},uuid:me};var pe=Object(w.b)((function(e){return{shop:e.shop.session,i18n:e.i18n,profile:e.user.profile}}),(function(e){return{setProfile:function(t){return e({type:p,payload:t})}}}))((function(e){var t=new k.a,a=e.i18n.__,c=e.profile,o=e.setProfile,i=Object(n.useState)(c||{}),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)([]),v=Object(m.a)(E,2),b=(v[0],v[1],Object(n.useState)(!1)),y=Object(m.a)(b,2);function N(e,t){d((function(a){var n=Object(x.a)({},a);return n[e]=t,n}))}return y[0],y[1],Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("div",{className:"left-col"},r.a.createElement("h1",null,a("Profile")),r.a.createElement("div",{className:"data-group"},r.a.createElement("label",null,a("First Name")),r.a.createElement("input",{value:u.first_name,onChange:function(e){return N("first_name",e.target.value)}})),r.a.createElement("div",{className:"data-group"},r.a.createElement("label",null,a("Last Name")),r.a.createElement("input",{value:u.last_name,onChange:function(e){return N("last_name",e.target.value)}})),function(){var e=!1;return Object.keys(c||{}).forEach((function(t){void 0!=u[t]&&c[t]!=u[t]&&(e=!0)})),e}()?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,l.a.awrap(t.consumer.profile.update(u));case 4:o(Object(x.a)({},u)),g(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),g(!1),alert(e.t0.message);case 12:case"end":return e.stop()}}),null,null,[[0,8]],Promise)},disabled:h},h?r.a.createElement(j.MoonLoader,{size:20,color:"white",loading:!0}):a("Save")),r.a.createElement("button",{className:"light",onClick:function(){return d(Object(x.a)({},c))},disabled:h},a("Cancel"))):r.a.createElement("button",{className:"light",onClick:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),de.clearProtocol(),t.consumer.logout().then((function(){g(!1),o(null),window.location.pathname="/users"})).catch((function(e){g(!1),alert(e.message)}));case 3:case"end":return e.stop()}}),null,null,null,Promise)},disabled:h},h?r.a.createElement(j.MoonLoader,{size:20,color:"black",loading:!0}):a("Logout"))),r.a.createElement("div",{className:"right-col"},r.a.createElement("h1",null,a("My Orders")),r.a.createElement("div",null))))}));a(215);var fe=Object(w.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings,i18n:e.i18n,profile:e.user.profile}}),(function(e){return{setProfile:function(t){return e({type:p,payload:t})}}}))((function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),c=a[0],o=a[1],i=new k.a,l=e.profile,s=e.setProfile;return Object(n.useEffect)((function(){i.consumer.profile.get().then((function(e){var t=e[0];s(t),o(!1)})).catch((function(e){o(!1),s(null)}))}),[]),r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"wrapper"},c?r.a.createElement("div",{className:"loading"},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):l?r.a.createElement(pe,{profile:l}):r.a.createElement(u.a,{to:"/users/login"})))}));a(216);var he=Object(w.b)((function(e){return{shop:e.shop.session,i18n:e.i18n,profile:e.user.profile}}))((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(m.a)(i,2),d=l[0],p=l[1],f=Object(n.useState)(""),h=Object(m.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)(""),b=Object(m.a)(v,2),y=b[0],N=b[1],w=Object(n.useState)(""),O=Object(m.a)(w,2),C=O[0],x=O[1],S=Object(n.useState)(!1),_=Object(m.a)(S,2),P=_[0],T=_[1],L=Object(n.useState)(null),A=Object(m.a)(L,2),I=A[0],B=A[1],M=new k.a,D=e.shop,F=e.profile,q=e.i18n.__;return Object(n.useEffect)((function(){null!=F&&B("/users")}),[]),null!=I?r.a.createElement(u.a,{to:I}):r.a.createElement("div",{className:"user-register"},r.a.createElement("div",{className:"user-register-wrapper"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"greeting"},D.logo?r.a.createElement("img",{src:D.logo}):null,r.a.createElement("h1",null,q("Get Your Account"))),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,q("First Name")),r.a.createElement("input",{type:"text",value:y,onChange:function(e){N(e.target.value)},placeholder:q("Peter")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,q("Last Name")),r.a.createElement("input",{type:"text",value:C,onChange:function(e){x(e.target.value)},placeholder:q("Chan")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,q("Email")),r.a.createElement("input",{type:"text",value:c,onChange:function(e){o(e.target.value)},placeholder:"peter.chan@abc.com"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,q("Password")),r.a.createElement("input",{type:"password",value:d,onChange:function(e){p(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,q("Confirm Password")),r.a.createElement("input",{type:"password",value:g,onChange:function(e){E(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),r.a.createElement("button",{onClick:function(){T(!0),M.consumer.signUp({email:c,passwd:d,confpasswd:g,first_name:y,last_name:C}).then((function(){T(!1),window.location.href="/users/login"})).catch((function(e){T(!1),alert(e.message)}))},disabled:P},P?r.a.createElement(j.MoonLoader,{size:20,color:"white",loading:!0}):q("Register")),r.a.createElement("div",{className:"register"},r.a.createElement(s.b,{to:"/users/login"},q("Already a member?")))))))}));a(217);var ge=Object(w.b)((function(e){return{shop:e.shop.session,i18n:e.i18n,profile:e.user.profile}}),(function(e){return{setProfile:function(t){return e({type:p,payload:t})}}}))((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(m.a)(i,2),d=l[0],p=l[1],f=Object(n.useState)(!1),h=Object(m.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)(null),b=Object(m.a)(v,2),y=b[0],N=b[1],w=new k.a,O=e.shop,C=e.setProfile,x=e.profile,S=e.i18n.__;return Object(n.useEffect)((function(){w.consumer.profile.get().then((function(e){null!=e[0]&&(C(x),N("/users"))})).catch((function(e){}))}),[]),null!=y?r.a.createElement(u.a,{to:y}):r.a.createElement("div",{className:"user-login"},r.a.createElement("div",{className:"user-login-wrapper"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"greeting"},O.logo?r.a.createElement("img",{src:O.logo}):null,r.a.createElement("h1",null,S("Welcome Back"))),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,S("Email")),r.a.createElement("input",{type:"text",value:c,onChange:function(e){o(e.target.value)},placeholder:"peter.chan@abc.com"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,S("Password")),r.a.createElement("input",{type:"password",value:d,onChange:function(e){p(e.target.value)},placeholder:"\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb\u30fb"})),r.a.createElement("button",{onClick:function(){E(!0),Promise.all([w.consumer.login({email:c,passwd:d}),new Promise((function(e,t){var a=function(a){console.log("------\x3e result: ",a),a.result?e():t()};de.getClient((function(e){e.setAction("/login").setArguments({shopId:O.id}).setForm({email:c,passwd:d}).cmd(a)}))}))]).then((function(){E(!1),window.location.href="/users"})).catch((function(e){E(!1),alert("Username or password invalid.")}))},disabled:g},g?r.a.createElement(j.MoonLoader,{size:20,color:"white",loading:!0}):S("Login")),r.a.createElement("div",{className:"register"},r.a.createElement(s.b,{to:"/users/new"},S("Not a member? Register now!")))))))}));a(218);var Ee=Object(w.b)((function(e){return{cart:e.cart,shop:e.shop.session,i18n:e.i18n}}),(function(e){return{setCartItems:function(t){return e({type:E,payload:t})}}}))((function(e){var t=new k.a,a=Object(n.useState)(!1),c=Object(m.a)(a,2),o=c[0],i=c[1],u=e.cart,d=e.shop,p=e.i18n.__;function f(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}function h(e){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return i(!0),a.prev=1,a.next=4,l.a.awrap(t.cart.item.remove(u.id,e));case 4:return a.next=6,l.a.awrap(E());case 6:i(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),alert("Failed to remove item"),i(!1);case 13:case"end":return a.stop()}}),null,null,[[1,9]],Promise)}function g(e,a){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return i(!0),n.prev=1,n.next=4,l.a.awrap(t.cart.item.put(u.id,{id:e,qty:a}));case 4:return n.next=6,l.a.awrap(E());case 6:i(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),alert("Failed to edit item qty"),i(!1);case 13:case"end":return n.stop()}}),null,null,[[1,9]],Promise)}function E(){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(t.cart.item.get(u.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert("Failed to get cart item");case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}return r.a.createElement("div",{className:"cart"},r.a.createElement("h1",null,p("My Cart")),r.a.createElement("div",{className:"list"},(u.items||[]).length?r.a.createElement("div",{className:"items"},o?r.a.createElement("div",{className:"loading-mask"},r.a.createElement(j.MoonLoader,{size:20,color:"#000000",loading:!0})):null,(u.items||[]).map((function(e,t){return r.a.createElement("div",{key:"item-".concat(t),className:"item"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:f(e),alt:e.name})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"description"},e.variant)),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"unit-price"},(d.currency||"hkd").toUpperCase()," ",e.price.toFixed(2)," ",r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"qty"},e.qty),r.a.createElement("div",{className:"qty-btns"},r.a.createElement("button",{onClick:function(){return g(e.id,e.qty+1)}},r.a.createElement("i",{className:"fas fa-sort-up"})),r.a.createElement("button",{onClick:function(){return e.qty<2?h(e.id):g(e.id,e.qty-1)}},r.a.createElement("i",{className:"fas fa-sort-down"})))),r.a.createElement("div",{className:"subtotal"},(d.currency||"hkd").toUpperCase()," ",(e.price*e.qty).toFixed(2)),r.a.createElement("div",{className:"remove-btn-wrapper"},r.a.createElement("button",{onClick:function(){return h(e.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})),r.a.createElement("div",{className:"checkout-btn-wrapper"},r.a.createElement("div",{className:"total"},p("Total")," : ",(d.currency||"hkd").toUpperCase()," ",(u.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(s.b,{to:"/checkout"},p("Checkout")))):r.a.createElement("div",{className:"placeholder"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("div",{className:"message"},p("Your shopping cart is empty.")),r.a.createElement(s.b,{to:"/products"},p("Shop Now")))))}));a(219);var ve=Object(w.b)((function(e){return{shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:E,payload:t})},initCart:function(t){return e({type:g,payload:t})}}}))((function(e){var t=new k.a,a=(Object(u.g)()||{}).state||null,c=(e.shop.currency||"hkd").toUpperCase();function o(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}return Object(n.useEffect)((function(){null!=a&&function a(){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(t.cart.create());case 3:n=r.sent.rows[0].id,(new oe.default).set("cartId",n,{samesite:"none",secure:!0}),e.initCart(n),e.setCartItems([]),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a();case 13:case"end":return r.stop()}}),null,null,[[0,10]],Promise)}()}),[]),null!=a?r.a.createElement("div",{className:"order-snapshot"},r.a.createElement("div",{className:"order-snapshot-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Thank You!"),r.a.createElement("div",{className:"order-id"},r.a.createElement("b",null,"Order #",a.id)),r.a.createElement("div",{className:"order-detail"},r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-male"})),a.contact.first_name," ",a.contact.last_name),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-envelope"})),a.contact.email),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),a.contact.phone),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})),a.shipping.address),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-sticky-note"})),a.notes||"---")),r.a.createElement("div",{className:"items"},(a.items||[]).map((function(e){return r.a.createElement("div",{key:"order-snapshot-item-".concat(e.id),className:"item"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:o(e),alt:"image of ".concat(e.name)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"description"},e.variant)),r.a.createElement("div",{className:"unit-price"},c," ",e.price.toFixed(2)," ",r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"qty"},e.qty),r.a.createElement("div",{className:"subtotal"},c," ",(e.price*e.qty).toFixed(2)))}))),r.a.createElement("div",{className:"order-summary"},r.a.createElement("div",{className:"subtotal"},"Subtotal: ",c," ",a.sub_total.toFixed(2)),(((a.breakdowns||[])[0]||{}).discounts||[]).length>0?r.a.createElement("div",{className:"discount"},r.a.createElement("i",{"data-tip":"".concat(a.breakdowns[0].discounts.map((function(e,t){return"".concat(t+1,". <b>").concat(e.title,"</b> -").concat(c).concat(e.amount)})).join("<br/>")),className:"fas fa-info-circle"})," Discount: ",c," ",a.discounted_amount.toFixed(2),r.a.createElement(J.a,{type:"dark",html:!0})):null,r.a.createElement("div",{className:"total"},"Total: ",c," ",a.gross_total.toFixed(2)))))):r.a.createElement(u.a,{to:"/products"})}));a(220);var be=Object(w.b)((function(e){return{shop:e.shop.session}}))((function(){var e=Object(u.h)().file,t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){!function(e){var t;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.a.awrap(fetch("/assets/text_files/".concat(e,".txt")));case 3:return t=a.sent,a.next=6,l.a.awrap(t.text());case 6:t=a.sent,o(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),o("Failed to load ".concat(e,".txt."));case 13:case"end":return a.stop()}}),null,null,[[0,10]],Promise)}(e)})),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"content"},G()(c)))})),ye=function(e){var t=new Date(e),a=t.getHours(),n=a,r=24!=a&&a>=12?"PM":"AM";n>=12&&(n=a-12),0==n&&(n=12);var c=t.getMinutes();return c=c<10?"0".concat(c):c,"".concat(n,":").concat(c," ").concat(r)},Ne=Object(w.b)((function(e){return{shop:e.shop.session,__:e.i18n.__}}))((function(e){var t=e.id,a=e.message,c=e.file,o=e.attachments,i=e.created_time,l=e.sender,s=e.previousItem,u=e.nextItem,d=e.shop,p=e.status,f=e.index,h=e.msgStatusDidChangeAtRowIndex,g=e.__,E=!/^enquirer$/i.test(l.type),v=l.type!=(((s||{}).sender||{}).type||"")?"7.5px":"1px",b=l.type!=(((u||{}).sender||{}).type||"")?"7.5px":"1px",y=Object(n.useState)((o||[])[0]||null),N=Object(m.a)(y,1)[0],w=Object(n.useState)(e.client||null),O=Object(m.a)(w,2),C=O[0],j=O[1],x=Object(n.useState)(0),S=Object(m.a)(x,2),k=(S[0],S[1]);Object(n.useEffect)((function(){/^PENDING$/i.test(p)&&(void 0!=c?T():_())}),[]);var _=function(e){var t,n=function(t){var n={content:(a||"").trim().length>0?a:" "};void 0!=e&&(e||"").startsWith("https://")&&(n.attachments=[e]),t.setAction("/leave.shop.message").setArguments({shopId:d.id}).setForm(n).cmd(P)};C?n(C):(t=n,de.getClient((function(e){j(e),t&&t(e)})))},P=function(e){e.result&&h(f,{id:((e.data||{}).rows||[]).id||t,status:"SENT"})},T=function(){C.setAction("/signatures").setForm({extension:c.type}).cmd(L)},L=function(e){!0===e.result&&((e.data||{}).rows||[]).length>0&&A(e.data.rows[0])},A=function(e){var t=new FormData;t.append("key",e.fileName),t.append("acl",e.bucketAcl),t.append("Content-Type",e.mimeType),t.append("X-Amz-Credential",e.amzCred),t.append("X-Amz-Date",e.expDate),t.append("Policy",e.encodedPolicy),t.append("X-Amz-Signature",e.sign),t.append("X-Amz-Algorithm","AWS4-HMAC-SHA256"),t.append("file",c);var a=new XMLHttpRequest;a.open("POST","https://s3-ap-southeast-1.amazonaws.com/cdn.oneshop.cloud"),a.upload.onprogress=function(e){var t=e.total,a=e.loaded;return k(a/t*100)},a.onerror=function(e){},a.onload=function(){return _(e.endPoint)},a.send(t)};return r.a.createElement("div",null,r.a.createElement("div",{className:"cl-message-row",style:{justifyContent:E?"flex-start":"flex-end",paddingTop:v,paddingBottom:b}},r.a.createElement("div",{className:"cl-message-bubble",style:{backgroundImage:E?"linear-gradient(-270deg, #efefef, #f8f8f8)":"linear-gradient(-270deg, #0377fc, #3b96ff)",color:E?"black":"white"}},null!=N&&void 0!=N?r.a.createElement("a",{href:N,target:"_blank"},r.a.createElement("img",{src:N,className:"msg-media",alt:N})):null,(a||"").trim().length>0?r.a.createElement("div",{className:"msg-body"},a):null,r.a.createElement("div",{className:"msg-timestamp"},/^PENDING$/i.test(p)?g("SENDING"):ye(i)))))})),we=(a(221),a(49)),Oe=Object(w.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings,i18n:e.i18n,globalProfile:e.user.profile}}))((function(e){var t=e.shop,a=e.globalProfile,c=e.i18n.__,o=Object(n.useState)(!1),i=Object(m.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(null),d=Object(m.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(null),g=Object(m.a)(h,2),E=g[0],v=g[1],b=Object(n.useState)([]),y=Object(m.a)(b,2),N=y[0],w=y[1],O=Object(n.useState)(""),C=Object(m.a)(O,2),j=C[0],x=C[1],S=Object(n.useState)(null),k=Object(m.a)(S,2),_=k[0],P=k[1],T=Object(n.useState)(null),L=Object(m.a)(T,2),A=L[0],I=L[1];Object(n.useEffect)((function(){a&&!E&&q(),p&&E&&!N.length&&R()}),[a,E,p]);var B=function(e){de.getClient((function(t){f(t),t.registerBroadCastListener("web_chat",D),e&&e(t)}))},M=function(){var e=document.getElementById("messages");e.scrollTop=e.scrollHeight},D=function(e){if(/^shop\.to\.consumer$/i.test(e.type||"")&&void 0!=e.context){var a=e.context,n=a.id,r=a.message,c=a.attachments,o=a.sender,i=a.created_time,l=a.shop_id;t.id==l&&(w((function(e){return Object(K.a)(e).concat({id:n,message:r,sender:o,created_time:i,attachments:c,status:"SENT"})})),M())}},F=function(e,t){var a=t.id,n=t.status;w(Object(K.a)(N).map((function(t,r){return r==e&&void 0!=a&&(t.id=a),r==e&&void 0!=n&&(t.status=n),t}))),M()},q=function(){var e=function(e){e.setAction("/my.profile").cmd(z)};p?e(p):B(e)},z=function(e){e.result&&v(e.data.rows[0])},H=function(){x(""),P(null),I(null),w((function(e){var t=Object(K.a)(e);return t.push({id:de.uuid(),message:j||"",attachments:A?["".concat(A)]:void 0,file:_||void 0,created_time:(new Date).toISOString(),sender:{type:"enquirer"},status:"PENDING"}),t})),M()},R=function(){var e=function(e){e.setAction("/get.shop.messages").setArguments({shopId:t.id,page:Math.ceil(N.length/15)+1}).cmd(U)};p?e(p):B(e)},U=function(e){e.result&&((e.data||{}).rows||[]).length>0&&(w(Object(K.a)(N).concat(e.data.rows).map((function(e){return e.status="SENT",e}))),M())},G=(j||"").trim().length>0||_;return r.a.createElement("div",{className:"chat-wrapper"},r.a.createElement("button",{className:"chat-button",onClick:function(){return s(!l)}},l?r.a.createElement("i",{className:"fas fa-times"}):r.a.createElement("i",{className:"fas fa-comment"})),r.a.createElement("div",{className:"chat-box",style:l?{width:(we.isMobile?window.innerWidth:window.innerWidth/4<350?350:window.innerWidth/4)-50,height:(we.isMobile?window.innerHeight:2*window.innerHeight/3<500?500:2*window.innerHeight/3)-115,borderRadius:"10px",zIndex:99999}:{width:"48px",height:"48px",borderRadius:"24px",zIndex:-1,borderColor:"white"}},null==E?r.a.createElement("div",{className:"chat-box-placeholder"},r.a.createElement("i",{className:"fas fa-unlink"}),r.a.createElement("span",null,c("Disconnected")),r.a.createElement("span",null,c("Please login again.")),r.a.createElement("button",{onClick:function(){return s(!1)}},c("Close"))):r.a.createElement("div",{className:"chat-list"},r.a.createElement("div",{className:"cl-header"},r.a.createElement("div",{style:{flex:1}},t.name),r.a.createElement("button",{onClick:function(){return s(!1)}},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("div",{id:"messages",className:"cl-messages"},N.filter((function(e,t,a){return a.map((function(e){return e.id})).indexOf(e.id)===t})).sort((function(e,t){return new Date(e.created_time).getTime()-new Date(t.created_time).getTime()})).map((function(e,t,a){return r.a.createElement(Ne,Object.assign({},e,{key:"msg_row_".concat(t),client:p,previousItem:a[t-1],nextItem:a[t+1],index:t,msgStatusDidChangeAtRowIndex:F}))}))),A?r.a.createElement("div",{className:"cl-attachment-view"},r.a.createElement("img",{src:A}),r.a.createElement("button",{onClick:function(){P(null),I(null)}},r.a.createElement("i",{className:"fas fa-trash"}))):null,r.a.createElement("div",{className:"cl-input-wrapper"},we.isMobile?null:r.a.createElement("button",{className:"attachment-button",onClick:function(){document.getElementById("fileButton").click()},disabled:null!=_},r.a.createElement("input",{id:"fileButton",type:"file",hidden:!0,accept:".png,.jpeg",onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=function(e){P(t),I(e.target.result)},a.readAsDataURL(t)}}}),r.a.createElement("i",{className:"fas fa-image"})),r.a.createElement("input",{type:"text",value:j,onChange:function(e){return x(e.target.value)},onKeyUp:function(e){(/^enter$/i.test(e.key)||13===e.keyCode)&&G&&H()},placeholder:c("Press Enter to send")}),r.a.createElement("button",{className:"send-button",onClick:H,disabled:!G},r.a.createElement("i",{className:"fas fa-paper-plane"}))))))}));var Ce=Object(u.i)((function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(O,null),r.a.createElement("div",{className:"scene"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",component:D,exact:!0}),r.a.createElement(u.b,{path:"/products",component:D,exact:!0}),r.a.createElement(u.b,{path:"/products/:id",component:H,exact:!0}),r.a.createElement(u.b,{path:"/blogs",component:R,exact:!0}),r.a.createElement(u.b,{path:"/blogs/:id",component:W,exact:!0}),r.a.createElement(u.b,{path:"/pages/:file",component:be,exact:!0}),r.a.createElement(u.b,{path:"/users",component:fe,exact:!0}),r.a.createElement(u.b,{path:"/users/new",component:he,exact:!0}),r.a.createElement(u.b,{path:"/users/login",component:ge,exact:!0}),r.a.createElement(u.a,{from:"/login",to:"/users/login",exact:!0}),r.a.createElement(u.b,{path:"/checkout",component:ce,exact:!0}),r.a.createElement(u.b,{path:"/checkout/success",component:ve,exact:!0}),r.a.createElement(u.b,{path:"/cart",component:Ee,exact:!0}),r.a.createElement(u.b,{component:Y}))),r.a.createElement(Oe,null),r.a.createElement(C,null))}));var je=Object(w.b)((function(e,t){return{shop:e.shop.session,cart:e.cart,profile:e.user.profile}}),(function(e,t){return{setShop:function(t){return e({type:d,payload:t})},initCart:function(t){return e({type:g,payload:t})},setCartItems:function(t){return e({type:E,payload:t})},setProfile:function(t){return e({type:p,payload:t})}}}))((function(e){var t=new k.a,a=new oe.default,c=e.shop,o=e.cart,i=e.profile;function u(){var n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(t.cart.create());case 3:n=r.sent.rows[0].id,a.set("cartId",n,{samesite:"None",secure:!0}),e.initCart(n),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),u();case 11:case"end":return r.stop()}}),null,null,[[0,8]],Promise)}return Object(n.useEffect)((function(){c||function a(){t.shop.settings().then((function(t){e.setShop(t[0])})).catch((function(e){a()}))}(),o.id?function(){var a;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(t.cart.item.get(o.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),u();case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}():u(),i||function(){var a;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(t.consumer.profile.get());case 3:a=n.sent,e.setProfile(a[0]),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}()}),[]),null==c||null==o.id?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(j.MoonLoader,{size:30,color:"#000000",loading:!0})):r.a.createElement(s.a,null,r.a.createElement(Ce,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=a(33),Se={products:[],best_sellers:[]},ke={articles:[]},_e={profile:null},Pe=a(85),Te=a.n(Pe),Le={session:null,collections:[],selectedCollection:null},Ae={id:(new(0,a(26).default)).get("cartId")||null,items:[]},Ie={},Be=new(0,a(26).default),Me={locale:Be.get("os-locale")||"zh_HK",locales:[{name:"English",code:"en_US"},{name:"\u6b63\u9ad4\u4e2d\u6587",code:"zh_HK"}],__:function(e){var t=Be.get("os-locale")||"zh_HK",n={};try{n=a(223)("./".concat(t,".json"))}catch(r){}return void 0==n[e]?e:n[e]}},De=Object(xe.b)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(x.a)({},e,{products:t.payload});case"ADD_BEST_SELLERS":return Object(x.a)({},e,{best_sellers:t.payload});default:return e}},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ARTICLES":return Object(x.a)({},e,{articles:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{profile:t.payload};default:return e}},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SHOP":return{session:t.payload,settings:Te.a.settings};case"SET_COLLECTIONS":return Object(x.a)({},e,{collections:t.payload});case"SET_SELECTED_COLLECTION":return Object(x.a)({},e,{selectedCollection:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CART":return Object(x.a)({},e,{id:t.payload});case"SET_CART_ITEMS":return Object(x.a)({},e,{items:t.payload});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOME_CONTEXT":return Object(x.a)({},e,Object(F.a)({},t.key,t.payload));default:return e}},i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCALE":return Be.set("os-locale",t.payload,{samesite:"None",secure:!1,path:"/"}),Object(x.a)({},e,{locale:t.payload});default:return e}}}),Fe=Object(xe.c)(De);o.a.render(r.a.createElement(w.a,{store:Fe},r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t){e.exports={settings:{layout:{navBar:{display:{home:!1,blog:!1,shop:!1,cart:!0,user:!1,language:!1},mobileDisplay:{home:!0,blog:!1,shop:!1,cart:!0,user:!1}},footer:{display:{blog:!1,shop:!1,cart:!0,user:!1}},content:[{widget:"Banner",tags:"",ordering:"",numberToShow:1,ids:"",collections:"",duration:5e3,transitionDuration:300,infinite:!0,indicators:!1,arrows:!1,styles:{height:630}},{widget:"CollectionProduct",tags:"bestseller",title:"Best Seller",type:"sale",rows:1,cols:4,styles:{}},{widget:"CollectionProduct",tags:"featured",title:"Featured",type:"sale",rows:1,cols:4,styles:{}},{widget:"Seperator",styles:{margin:"50px 0px 60px 0px",height:"0.5px"}},{widget:"ArticleTile",tags:"",ordering:"",ids:"",rows:1,cols:4,collections:"",title:"Sharing",type:"sale",styles:{}},{widget:"Product",tags:"",ordering:"",ids:"",rows:1,cols:6,collection_tags:"50",title:"Latest Products",type:"sale",styles:{}}]},links:{policies:{shipping_policy:"shipping_policy",privacy_policy:"privacy_policy",terms_and_conditions:"terms_and_conditions"},social:{facebook:"https://www.facebook.com/itdogcom",instagram:"https://www.instagram.com/itdogcom",youtube:!1,twitter:!1,pinterest:!1}}}}},87:function(e,t,a){e.exports=a(226)},92:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.04c550da.chunk.js.map